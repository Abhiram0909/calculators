<!DOCTYPE html>
<html lang="en">
<head>
    <title>ppf calculator</title>
    <link rel="stylesheet" href="../style.css" />
</head>
<body onload="updateSliderValue('yearly_investment_slider', 'yearly_investment_value'); updateSliderValue('time_period_slider', 'time_period_value'); calculateResult();">

    <h1>PUBLIC PROVIDENT FUND CALCULATOR</h1>
    <a href="../"><button>BACK</button></a>
    <div class="container">
        <label for="yearly_investment" >Yearly investment</label>
        <input type="number" class="Value_container" oninput="updateSliderValue('yearly_investment_value', 'yearly_investment_slider'); calculateResult()" id="yearly_investment_value" style= "margin-right: 5px; text-align: left;" />      
        <input type="text"  class="Units" value="â‚¹" disabled/><br/><br/>
        <input type="range" min="500" max="150000" class="slider" id="yearly_investment_slider" oninput="updateSliderValue('yearly_investment_slider', 'yearly_investment_value'); calculateResult();" />
        <br/><br/>
        
        <label for="time_period" >Time period(in years)</label>
        <input type="text"  class="Units" value="Yr" style= "margin-right: 5px;" disabled/>
        <input type="number" id="time_period_value" oninput="updateSliderValue('time_period_value', 'time_period_slider'); calculateResult();" class="Value_container" /><br/><br/>
        <input type="range" min="15" max="50" id="time_period_slider" class="slider" step="1" oninput="updateSliderValue('time_period_slider', 'time_period_value'); calculateResult();" />
        <br/><br/>
        
        <label for="rate_of_interest">Rate of interest</label>
        <input type="text"  class="Units" value="%" style= "margin-right: 5px;" disabled />
        <input type="number" id="rate_of_interest_value" value = "7.1" class="Value_container" disabled /><br/><br/> 
        <br/><br/>
        <div>
            <label for="invested_amount">Invested amount</label>
            <input type="text" class="result_container" id="invested_amount_result" disabled />
            <br/><br/>

            <label for="total_interest">Total interest</label>
            <input type="text" class="result_container" id="total_interest_result" disabled />
            <br/><br/>

            <label for="maturity_value">Maturity value</label>
            <input type="text" class="result_container" id="maturity_value_result" disabled />
            <br/><br/>

        </div>

    </div>
    
    <script>
        var slider = document.getElementById('yearly_investment_slider');
        slider.value = 10000;
        var slider = document.getElementById('time_period_slider');
        slider.value = 15;
        
        function updateSliderValue(slider, valuebox) {
            var pa = document.getElementById(slider);
            var val = document.getElementById(valuebox);
            val.value = pa.value;
        }
        
        function calculateResult() {
            var yearly_investment = document.getElementById('yearly_investment_slider').value;
            var time = document.getElementById('time_period_slider').value;
            var interest = 0.071;
            var invested_amount = document.getElementById('invested_amount_result');
            var total_interest = document.getElementById('total_interest_result');
            var maturity_value = document.getElementById('maturity_value_result');
            
            invested_amount.value = Number(yearly_investment * time).toLocaleString("en-IN", {style:"currency", currency:"INR", minimumFractionDigits: 0});
            //F = P [({(1+i) ^n}-1)/i]*(1+i)
            var ans = yearly_investment*( ( ( (1+interest) ** time )-1)/ interest) * (1+interest);
        
            maturity_value.value = Number(parseInt(ans)).toLocaleString("en-IN", {style:"currency", currency:"INR", minimumFractionDigits: 0});
        
            var b = Number(ans) - Number(yearly_investment * time);
            total_interest.value = Number(parseInt(b)).toLocaleString("en-IN", {style:"currency", currency:"INR", minimumFractionDigits: 0});;

        }

    </script>
</body>
</html>